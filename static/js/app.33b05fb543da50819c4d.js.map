{"version":3,"sources":["webpack:///./src/components/firework.js","webpack:///src/App.vue","webpack:///./src/App.vue?7cbf","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["components_firework","canvas","ctx","lastTime","bigbooms","ishow","this","hide","document","getElementById","parentNode","removeChild","show","body","insertAdjacentHTML","style","position","left","top","setAttribute","window","innerWidth","innerHeight","getContext","initAnimate","Date","animate","save","fillStyle","fillRect","width","height","restore","newTime","x","getRandom","y","bigboom","Boom","push","foreach","index","that","dead","booms","length","indexOf","moveTo","_move","_drawLight","raf","Array","prototype","callback","i","apply","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","setTimeout","r","c","boomArea","shape","theta","ba","parseInt","_paint","beginPath","arc","Math","PI","fill","dx","dy","abs","_boom","random","color","fragNum","a","b","fanwei","cos","sin","radius","frag","Frag","centerX","centerY","tx","ty","paint","App","selectortype_template_index_0_src_App","render","_h","$createElement","_self","_c","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","vue_esm","config","productionTip","el","template","components"],"mappings":"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","file":"static/js/app.33b05fb543da50819c4d.js","sourcesContent":["var Firework =  function () {\n  var canvas;\n  var ctx;\n  var bigbooms = [];\n  var lastTime;\n  var ishow = false;\n  this.hide = function () {\n    canvas= document.getElementById('canvas')\n    canvas.parentNode.removeChild(canvas)\n    ishow = false;\n  };\n  this.show = function () {\n    ishow = true;\n    document.body.insertAdjacentHTML('beforeend', '<canvas id=\"canvas\"></canvas>');\n    canvas = document.getElementById(\"canvas\");\n    canvas.style.position = 'fixed'\n    canvas.style.left = '0'\n    canvas.style.top = '0'\n    canvas.setAttribute('width',window.innerWidth+'px')\n    canvas.setAttribute('height',window.innerHeight+'px')\n    ctx = canvas.getContext(\"2d\");\n    bigbooms = [];\n    initAnimate();\n  };\n\n  var initAnimate = function () {\n    lastTime = new Date();\n    if (ishow) {\n      animate();\n    }\n  }\n  var animate = function () {\n    ctx.save();\n    ctx.fillStyle = \"rgba(0,0,0,0.5)\";\n    // ctx.fillStyle = \"rgba(255,255,255,1)\";\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    ctx.restore();\n    var newTime = new Date();\n    if (newTime - lastTime > 300) {\n      var x = getRandom(canvas.width / 5, canvas.width * 4 / 5);\n      var y = getRandom(50, 200);\n      var bigboom = new Boom(getRandom(canvas.width / 3, canvas.width * 2 / 3), 2, \"#FFF\", {\n        x: x,\n        y: y\n      });\n      bigbooms.push(bigboom)\n      lastTime = newTime;\n    }\n    bigbooms.foreach(function (index) {\n      var that = this;\n      if (!this.dead) {\n        this._move();\n        this._drawLight();\n      }\n      else {\n        this.booms.foreach(function (index) {\n          if (!this.dead) {\n            this.moveTo(index);\n          }\n          else if (index === that.booms.length - 1) {\n            bigbooms[bigbooms.indexOf(that)] = null;\n          }\n        })\n      }\n    });\n    if (ishow) {\n      raf(animate);\n    }\n  }\n\n  Array.prototype.foreach = function (callback) {\n    for (var i = 0; i < this.length; i++) {\n      if (this[i] !== null) callback.apply(this[i], [i])\n    }\n  }\n\n  var raf = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n      window.setTimeout(callback, 1);\n    };\n\n  var Boom = function (x, r, c, boomArea, shape) {\n    this.booms = [];\n    this.x = x;\n    this.y = (canvas.height + r);\n    this.r = r;\n    this.c = c;\n    this.shape = shape || false;\n    this.boomArea = boomArea;\n    this.theta = 0;\n    this.dead = false;\n    this.ba = parseInt(getRandom(80, 200));\n  }\n  Boom.prototype = {\n    _paint: function () {\n      ctx.save();\n      ctx.beginPath();\n      ctx.arc(this.x, this.y, this.r, 0, 2 * Math.PI);\n      ctx.fillStyle = this.c;\n      ctx.fill();\n      ctx.restore();\n    },\n    _move: function () {\n      var dx = this.boomArea.x - this.x, dy = this.boomArea.y - this.y;\n      this.x = this.x + dx * 0.09;\n      this.y = this.y + dy * 0.09;\n\n      if (Math.abs(dx) <= this.ba && Math.abs(dy) <= this.ba) {\n        if (this.shape) {\n          // this._shapBoom();\n        }\n        else this._boom();\n        this.dead = true;\n      }\n      else {\n        this._paint();\n      }\n    },\n    _drawLight: function () {\n      ctx.save();\n      ctx.fillStyle = \"rgba(255,228,150,0.3)\";\n      ctx.beginPath();\n      ctx.arc(this.x, this.y, this.r + 3 * Math.random() + 1, 0, 2 * Math.PI);\n      ctx.fill();\n      ctx.restore();\n    },\n    _boom: function () {\n      var fragNum = getRandom(30, 200);\n      var style = getRandom(0, 10) >= 5 ? 1 : 2;\n      var color;\n      if (style === 1) {\n        color = {\n          a: parseInt(getRandom(128, 255)),\n          b: parseInt(getRandom(128, 255)),\n          c: parseInt(getRandom(128, 255))\n        }\n      }\n\n      var fanwei = parseInt(getRandom(300, 800));\n      for (var i = 0; i < fragNum; i++) {\n        if (style === 2) {\n          color = {\n            a: parseInt(getRandom(128, 255)),\n            b: parseInt(getRandom(128, 255)),\n            c: parseInt(getRandom(128, 255))\n          }\n        }\n        var a = getRandom(-Math.PI, Math.PI);\n        var x = getRandom(0, fanwei) * Math.cos(a) + this.x;\n        var y = getRandom(0, fanwei) * Math.sin(a) + this.y;\n        var radius = getRandom(0, 5)\n        var frag = new Frag(this.x, this.y, radius, color, x, y);\n        this.booms.push(frag);\n      }\n    }\n  }\n\n\n  var getRandom = function (a, b) {\n    return Math.random() * (b - a) + a;\n  }\n\n  var Frag = function (centerX, centerY, radius, color, tx, ty) {\n    this.tx = tx;\n    this.ty = ty;\n    this.x = centerX;\n    this.y = centerY;\n    this.dead = false;\n    this.centerX = centerX;\n    this.centerY = centerY;\n    this.radius = radius;\n    this.color = color;\n  }\n\n  Frag.prototype = {\n    paint: function () {\n      ctx.save();\n      ctx.beginPath();\n      ctx.arc(this.x, this.y, this.radius, 0, 2 * Math.PI);\n      ctx.fillStyle = \"rgba(\" + this.color.a + \",\" + this.color.b + \",\" + this.color.c + \",1)\";\n      ctx.fill();\n      ctx.restore();\n    },\n    moveTo: function (index) {\n      this.ty = this.ty + 0.3;\n      var dx = this.tx - this.x, dy = this.ty - this.y;\n      this.x = Math.abs(dx) < 0.1 ? this.tx : (this.x + dx * 0.1);\n      this.y = Math.abs(dy) < 0.1 ? this.ty : (this.y + dy * 0.1);\n      if (dx === 0 && Math.abs(dy) <= 80) {\n        this.dead = true;\n      }\n      this.paint();\n    }\n  }\n}\nvar firework = new Firework()\nexport default firework\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/firework.js","<template>\n  <div id=\"app\">\n\n  </div>\n</template>\n\n<script>\n  import firework from './components/firework'\n\nexport default {\n  name: 'app',\n  created(){\n      firework.show()\n  },\n  components: {\n\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ae1cb856\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ae1cb856\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ae1cb856\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}